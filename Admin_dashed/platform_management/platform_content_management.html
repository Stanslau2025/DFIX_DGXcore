<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DFIX DGXcore - Platform Content Management</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
:root {
    --primary: #ff00cc;
    --secondary: #3333ff;
    --accent: #00ffcc;
    --dark: #121212;
    --light: #f8f8f8;
    --success: #00cc66;
    --warning: #ffcc00;
    --danger: #ff3366;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Montserrat', sans-serif;
}

body {
    background-color: var(--dark);
    color: var(--light);
    overflow-x: hidden;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

.gradient-text {
    background: linear-gradient(45deg, var(--primary), var(--secondary), var(--accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: transparent;
    font-weight: 800;
}

/* Security Screen Styles */
.security-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10000;
    backdrop-filter: blur(10px);
}

.security-container {
    background: rgba(30, 30, 30, 0.95);
    border-radius: 16px;
    padding: 40px;
    width: 90%;
    max-width: 500px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    text-align: center;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.security-icon {
    font-size: 60px;
    margin-bottom: 20px;
    color: var(--primary);
}

.security-title {
    font-size: 28px;
    margin-bottom: 10px;
}

.security-subtitle {
    opacity: 0.8;
    margin-bottom: 30px;
}

.security-step {
    display: none;
}

.security-step.active {
    display: block;
}

.security-field {
    margin-bottom: 20px;
    text-align: left;
}

.security-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
}

.security-input {
    width: 100%;
    padding: 14px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    color: white;
    font-size: 16px;
    transition: all 0.3s;
}

.security-input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px rgba(0, 255, 204, 0.2);
}

.security-actions {
    display: flex;
    justify-content: space-between;
    margin-top: 30px;
    gap: 15px;
}

.security-btn {
    padding: 12px 24px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    border: none;
    transition: all 0.3s;
    flex: 1;
}

.btn-cancel {
    background: rgba(255, 255, 255, 0.1);
    color: white;
}

.btn-next {
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    color: white;
}

.security-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.btn-cancel:hover {
    background: rgba(255, 255, 255, 0.2);
}

.btn-next:hover {
    background: linear-gradient(90deg, var(--secondary), var(--primary));
}

/* Admin Dashboard Styles */
.admin-dashboard {
    display: none;
    width: 100%;
    flex: 1;
}

header {
    position: fixed;
    top: 0;
    width: 100%;
    padding: 20px 5%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    z-index: 1000;
    backdrop-filter: blur(10px);
    background: rgba(0, 0, 0, 0.5);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.logo {
    font-size: 28px;
    font-weight: 700;
}

.back-btn {
    background: none;
    border: 2px solid white;
    color: white;
    padding: 10px 20px;
    border-radius: 50px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 8px;
}

.back-btn:hover {
    background: white;
    color: var(--dark);
}

.dashboard-container {
    padding: 120px 5% 50px;
    max-width: 1400px;
    margin: 0 auto;
    width: 100%;
}

.dashboard-header {
    text-align: center;
    margin-bottom: 50px;
    padding-top: 40px;
}

.dashboard-title {
    font-size: 36px;
    margin-bottom: 10px;
}

.dashboard-subtitle {
    opacity: 0.8;
    margin-bottom: 30px;
    font-size: 18px;
}

/* Admin Tabs */
.admin-tabs {
    display: flex;
    gap: 10px;
    margin-bottom: 30px;
    flex-wrap: wrap;
}

.admin-tab {
    background: rgba(255, 255, 255, 0.1);
    border: none;
    color: white;
    padding: 12px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 8px;
}

.admin-tab.active {
    background: linear-gradient(90deg, var(--primary), var(--secondary));
}

.admin-tab:hover:not(.active) {
    background: rgba(255, 255, 255, 0.2);
}

/* Tab Content */
.tab-content {
    display: none;
    animation: fadeIn 0.5s ease;
}

.tab-content.active {
    display: block;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
/* Search Section Styles */
.search-section {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 25px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.search-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.search-header h3 {
    font-size: 18px;
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--accent);
}

.search-toggle {
    background: rgba(255, 255, 255, 0.1);
    border: none;
    color: white;
    padding: 8px 12px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s;
}

.search-toggle:hover {
    background: rgba(255, 255, 255, 0.2);
}

.search-toggle.rotated i {
    transform: rotate(180deg);
}

.search-filters {
    display: block;
    animation: slideDown 0.3s ease;
}

.search-filters.collapsed {
    display: none;
}

.search-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 20px;
}

.search-group {
    margin-bottom: 15px;
}

.search-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    font-size: 14px;
    color: rgba(255, 255, 255, 0.8);
}

.search-input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

.search-input-wrapper i {
    position: absolute;
    left: 12px;
    color: rgba(255, 255, 255, 0.6);
    z-index: 1;
}

.search-input-wrapper input {
    width: 100%;
    padding: 12px 15px 12px 40px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    color: white;
    font-size: 14px;
    transition: all 0.3s;
}

.search-input-wrapper input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px rgba(0, 255, 204, 0.2);
}

.search-input-wrapper input::placeholder {
    color: rgba(255, 255, 255, 0.5);
}

.search-actions {
    display: flex;
    gap: 15px;
    margin-bottom: 15px;
    flex-wrap: wrap;
}

.search-btn {
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 8px;
}

.btn-primary {
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    color: white;
}

.btn-primary:hover {
    background: linear-gradient(90deg, var(--secondary), var(--primary));
    transform: translateY(-2px);
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.1);
    color: white;
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
}

.search-results-info {
    padding: 12px 15px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    border-left: 4px solid var(--accent);
    display: none;
}

.search-results-info.show {
    display: block;
    animation: fadeIn 0.3s ease;
}

.results-count {
    font-weight: 600;
    color: var(--accent);
}

.no-results {
    text-align: center;
    padding: 30px;
    color: rgba(255, 255, 255, 0.7);
}

.no-results i {
    font-size: 40px;
    margin-bottom: 15px;
    color: var(--warning);
}

/* Highlight search results */
.highlight {
    background: rgba(255, 204, 0, 0.2);
    padding: 2px 4px;
    border-radius: 3px;
}

/* Responsive design for search */
@media (max-width: 768px) {
    .search-grid {
        grid-template-columns: 1fr;
    }
    
    .search-actions {
        flex-direction: column;
    }
    
    .search-btn {
        width: 100%;
        justify-content: center;
    }
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}






/* Form Styles */
.admin-form {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 25px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    margin-bottom: 30px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.form-title {
    font-size: 24px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    padding-bottom: 10px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.form-title i {
    margin-right: 10px;
    color: var(--primary);
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 20px;
}

.form-group {
    margin-bottom: 15px;
}

.form-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
}

.form-input, .form-select, .form-textarea {
    width: 100%;
    padding: 12px 15px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    color: white;
    font-size: 16px;
    transition: all 0.3s;
}

.form-input:focus, .form-select:focus, .form-textarea:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px rgba(0, 255, 204, 0.2);
}

.form-textarea {
    min-height: 100px;
    resize: vertical;
}

/* Upload Area */
.upload-area {
    border: 2px dashed rgba(255, 255, 255, 0.3);
    border-radius: 8px;
    padding: 30px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s;
    margin-bottom: 15px;
}

.upload-area:hover {
    border-color: var(--primary);
    background: rgba(255, 0, 204, 0.05);
}

.upload-area i {
    font-size: 40px;
    margin-bottom: 15px;
    color: var(--secondary);
}

.upload-text {
    margin-bottom: 15px;
    font-weight: 500;
}

.upload-hint {
    font-size: 12px;
    opacity: 0.7;
}

.file-info {
    display: flex;
    align-items: center;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    padding: 10px 15px;
    margin-top: 10px;
    display: none;
}

.file-info i {
    margin-right: 10px;
    color: var(--accent);
}

.file-details {
    flex-grow: 1;
}

.file-name {
    font-weight: 600;
    margin-bottom: 3px;
}

.file-size {
    font-size: 12px;
    opacity: 0.7;
}

.file-remove {
    color: #ff3366;
    cursor: pointer;
    padding: 5px;
    transition: all 0.3s;
}

.file-remove:hover {
    transform: scale(1.1);
}

/* Special Characters Selection */
.special-chars-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 10px;
}

.char-option {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s;
}

.char-option:hover {
    background: rgba(255, 255, 255, 0.2);
}

.char-option.selected {
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    transform: scale(1.1);
}

/* Generated Info Display */
.generated-info {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    padding: 20px;
    margin-top: 20px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    display: none;
    animation: slideDown 0.5s ease;
}

.generated-info.show {
    display: block;
}

@keyframes slideDown {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

.info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 15px;
}

.info-item {
    background: rgba(255, 255, 255, 0.05);
    padding: 15px;
    border-radius: 8px;
    transition: all 0.3s;
}

.info-item:hover {
    background: rgba(255, 255, 255, 0.08);
    transform: translateY(-2px);
}

.info-label {
    font-size: 14px;
    opacity: 0.7;
    margin-bottom: 5px;
}

.info-value {
    font-weight: 600;
    word-break: break-all;
    margin-bottom: 8px;
}

.copy-btn {
    background: var(--primary);
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 12px;
    transition: all 0.3s;
}

.copy-btn:hover {
    background: var(--secondary);
    transform: translateY(-1px);
}

/* Content Monitor Styles */
.content-filters {
    display: flex;
    gap: 15px;
    margin-bottom: 20px;
    flex-wrap: wrap;
}

.info-search {
    position: relative;
    flex: 1;
    min-width: 250px;
}

.info-search i {
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    color: rgba(255, 255, 255, 0.7);
}

.info-search input {
    width: 100%;
    padding: 12px 15px 12px 45px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    color: white;
    font-size: 16px;
}

.info-search input:focus {
    outline: none;
    border-color: var(--accent);
}

/* Responsive Table Container */
.table-container {
    width: 100%;
    overflow-x: auto;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    margin-bottom: 20px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.content-table, .admin-table {
    width: 100%;
    min-width: 1000px;
    border-collapse: collapse;
    background: rgba(255, 255, 255, 0.05);
}

.content-table th,
.content-table td,
.admin-table th,
.admin-table td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    white-space: nowrap;
}

.content-table th,
.admin-table th {
    background: rgba(255, 255, 255, 0.1);
    font-weight: 600;
    position: sticky;
    top: 0;
    z-index: 10;
}

.content-table tr:last-child td,
.admin-table tr:last-child td {
    border-bottom: none;
}

.content-table tr:hover,
.admin-table tr:hover {
    background: rgba(255, 255, 255, 0.03);
}

/* Scrollbar styling for table container */
.table-container::-webkit-scrollbar {
    height: 8px;
}

.table-container::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
}

.table-container::-webkit-scrollbar-thumb {
    background: var(--primary);
    border-radius: 4px;
}

.table-container::-webkit-scrollbar-thumb:hover {
    background: var(--secondary);
}

.content-detail {
    display: none;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 20px;
    margin-top: 20px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    animation: slideUp 0.5s ease;
}

.content-detail.show {
    display: block;
}

@keyframes slideUp {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.detail-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
}

/* Toast Notification */
.toast {
    position: fixed;
    bottom: 30px;
    right: 30px;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    color: white;
    padding: 15px 25px;
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    z-index: 1000;
    display: flex;
    align-items: center;
    gap: 10px;
    transform: translateY(100px);
    opacity: 0;
    transition: all 0.5s;
}

.toast.show {
    transform: translateY(0);
    opacity: 1;
}

.toast i {
    font-size: 20px;
}

/* Responsive Design */
@media (max-width: 768px) {
    .form-grid {
        grid-template-columns: 1fr;
    }
    
    .admin-tabs {
        flex-direction: column;
    }
    
    .content-filters {
        flex-direction: column;
    }
    
    .security-container {
        padding: 20px;
    }
    
    .security-actions {
        flex-direction: column;
        gap: 10px;
    }
    
    .security-btn {
        width: 100%;
    }
    
    .dashboard-title {
        font-size: 28px;
    }
    
    .dashboard-subtitle {
        font-size: 16px;
    }
    
    header {
        flex-direction: column;
        gap: 15px;
        padding: 15px 5%;
    }
    
    .logo {
        font-size: 24px;
    }
    
    .info-search {
        min-width: 100%;
    }
    
    .table-container {
        border-radius: 8px;
    }
}

@media (max-width: 480px) {
    .dashboard-container {
        padding: 100px 3% 30px;
    }
    
    .admin-form {
        padding: 15px;
    }
    
    .form-title {
        font-size: 20px;
    }
    
    .security-container {
        padding: 15px;
    }
    
    .security-title {
        font-size: 24px;
    }
}
</style>
</head>
<body>
    <!-- Security Screen -->
    <div class="security-screen" id="security-screen">
        <div class="security-container">
            <div class="security-icon">
                <i class="fas fa-shield-alt"></i>
            </div>
            <h2 class="security-title gradient-text">Admin Security</h2>
            <p class="security-subtitle">Two-step verification required</p>
            
            <!-- Step 1: Admin Credentials -->
            <div class="security-step active" id="step1">
                <div class="security-field">
                    <label class="security-label">Admin Name</label>
                    <input type="text" class="security-input" id="admin-name" placeholder="Enter admin name">
                </div>
                <div class="security-field">
                    <label class="security-label">Admin Email</label>
                    <input type="email" class="security-input" id="admin-email" placeholder="Enter admin email">
                </div>
                <div class="security-field">
                    <label class="security-label">Pass Key</label>
                    <input type="password" class="security-input" id="admin-passkey" placeholder="Enter pass key">
                </div>
                <div class="security-actions">
                    <button class="security-btn btn-cancel" onclick="cancelSecurity()">Cancel</button>
                    <button class="security-btn btn-next" onclick="nextStep()">Next Step</button>
                </div>
            </div>
            
            <!-- Step 2: Security Codes -->
            <div class="security-step" id="step2">
                <div class="security-field">
                    <label class="security-label">Security Code 1</label>
                    <input type="password" class="security-input" id="security-code1" placeholder="Enter code 1">
                </div>
                <div class="security-field">
                    <label class="security-label">Security Code 2</label>
                    <input type="password" class="security-input" id="security-code2" placeholder="Enter code 2">
                </div>
                <div class="security-field">
                    <label class="security-label">Security Code 3</label>
                    <input type="password" class="security-input" id="security-code3" placeholder="Enter code 3">
                </div>
                <div class="security-actions">
                    <button class="security-btn btn-cancel" onclick="prevStep()">Back</button>
                    <button class="security-btn btn-next" onclick="verifySecurity()">Verify & Access</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div class="admin-dashboard" id="admin-dashboard">
        <header>
            <div class="logo gradient-text">DFIX DGXcore - Platform Content Management</div>
            <button class="back-btn" onclick="goBack()">
                <i class="fas fa-arrow-left"></i> Back to Main Site
            </button>
        </header>

        <div class="dashboard-container">
            <div class="dashboard-header">
                <h1 class="dashboard-title gradient-text">Platform Content Management</h1>
                <p class="dashboard-subtitle">Manage admin accounts and monitor platform content</p>
            </div>

            <!-- Admin Tabs -->
            <div class="admin-tabs">
                <button class="admin-tab active" data-tab="admin-registration">Admin Registration</button>
                <button class="admin-tab" data-tab="content-monitor">Content Monitor</button>
                <button class="admin-tab" data-tab="admin-list">Admin List</button>
            </div>

            <!-- Admin Registration Tab -->
            <div class="tab-content active" id="admin-registration">
                <div class="admin-form">
                    <h2 class="form-title"><i class="fas fa-user-plus"></i> Register New Admin</h2>
                    
                    <div class="form-grid">
                        <!-- Profile Upload -->
                        <div class="form-group">
                            <label class="form-label">Profile Picture</label>
                            <div class="upload-area" id="profile-upload">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <div class="upload-text">Drag & drop profile picture or click to browse</div>
                                <div class="upload-hint">Recommended: 300x300px, JPG or PNG (Max 5MB)</div>
                            </div>
                            <div class="file-info" id="profile-file-info">
                                <i class="fas fa-file-image"></i>
                                <div class="file-details">
                                    <div class="file-name">admin_profile.jpg</div>
                                    <div class="file-size">2.4 MB</div>
                                </div>
                                <div class="file-remove" onclick="removeFile('profile')">
                                    <i class="fas fa-times"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Admin Details -->
                        <div class="form-group">
                            <label class="form-label">First Name</label>
                            <input type="text" class="form-input" id="first-name" placeholder="Enter first name">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Middle Name</label>
                            <input type="text" class="form-input" id="middle-name" placeholder="Enter middle name">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Last Name</label>
                            <input type="text" class="form-input" id="last-name" placeholder="Enter last name">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Phone Number</label>
                            <input type="tel" class="form-input" id="admin-phone" placeholder="06..., 07..., +2556..., +2557...">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Date of Birth</label>
                            <input type="date" class="form-input" id="admin-dob">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Favorite Digit (0-9)</label>
                            <input type="number" class="form-input" id="admin-digit" min="0" max="9" placeholder="0-9">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Choose 3 Special Characters</label>
                            <div class="special-chars-container" id="special-chars">
                                <div class="char-option" data-char="/">/</div>
                                <div class="char-option" data-char="=">=</div>
                                <div class="char-option" data-char="+">+</div>
                                <div class="char-option" data-char="x">x</div>
                                <div class="char-option" data-char="@">@</div>
                                <div class="char-option" data-char="(">(</div>
                                <div class="char-option" data-char=")">)</div>
                            </div>
                            <input type="text" class="form-input" id="selected-chars" placeholder="Selected characters will appear here" readonly>
                        </div>
                    </div>

                    <button class="security-btn btn-next" onclick="generateAdminAccount()" style="width: 100%;">
                        <i class="fas fa-user-plus"></i> Generate Admin Account
                    </button>
                    <button class="security-btn btn-cancel" onclick="clearAdminForm()" style="width: 100%; margin-top: 10px;">
                        <i class="fas fa-eraser"></i> Clear Form & Save
                    </button>

                    <div class="generated-info" id="generated-info">
                        <h3 class="form-title"><i class="fas fa-key"></i> Generated Admin Details</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <div class="info-label">Profile Image</div>
                                <div class="info-value">
                                    <img src="" id="info-profile-img" width="50" height="50" style="border-radius: 50%;">
                                </div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Full Name</div>
                                <div class="info-value" id="info-fullname">-</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Email</div>
                                <div class="info-value" id="info-email">-</div>
                                <button class="copy-btn" onclick="copyToClipboard('info-email')">Copy</button>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Password</div>
                                <div class="info-value" id="info-password">-</div>
                                <button class="copy-btn" onclick="copyToClipboard('info-password')">Copy</button>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Security Code 1</div>
                                <div class="info-value" id="info-code1">-</div>
                                <button class="copy-btn" onclick="copyToClipboard('info-code1')">Copy</button>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Security Code 2</div>
                                <div class="info-value" id="info-code2">-</div>
                                <button class="copy-btn" onclick="copyToClipboard('info-code2')">Copy</button>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Security Code 3</div>
                                <div class="info-value" id="info-code3">-</div>
                                <button class="copy-btn" onclick="copyToClipboard('info-code3')">Copy</button>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Passkey</div>
                                <div class="info-value" id="info-passkey">-</div>
                                <button class="copy-btn" onclick="copyToClipboard('info-passkey')">Copy</button>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Registration Date</div>
                                <div class="info-value" id="info-regdate">-</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Monitor Tab -->
            <div class="tab-content" id="content-monitor">
                <div class="admin-form">
                    <h2 class="form-title"><i class="fas fa-music"></i> Content Monitor</h2>
                    
                    <div class="content-filters">
                        <select class="form-select" id="content-filter">
                            <option value="all">All Content</option>
                            <option value="music">Music</option>
                            <option value="video">Videos</option>
                            <option value="image">Images</option>
                        </select>
                        
                        <select class="form-select" id="artist-filter">
                            <option value="all">All Artists</option>
                            <!-- Options will be populated dynamically -->
                        </select>
                        
                        <div class="info-search">
                            <i class="fas fa-search"></i>
                            <input type="text" id="content-search" placeholder="Search content...">
                        </div>
                    </div>
                    
                    <div class="table-container">
                        <table class="content-table">
                            <thead>
                                <tr>
                                    <th>Artist</th>
                                    <th>Title</th>
                                    <th>Type</th>
                                    <th>Upload Date</th>
                                    <th>Plays</th>
                                    <th>Favorites</th>
                                    <th>Distribution</th>
                                    <th>Links</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="content-body">
                                <!-- Content will be populated dynamically -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="content-detail" id="content-detail">
                        <h3 class="form-title"><i class="fas fa-info-circle"></i> Content Details</h3>
                        <div class="detail-grid">
                            <div class="info-item">
                                <div class="info-label">Title</div>
                                <div class="info-value" id="detail-title">-</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Artist</div>
                                <div class="info-value" id="detail-artist">-</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Upload Date</div>
                                <div class="info-value" id="detail-date">-</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Plays</div>
                                <div class="info-value" id="detail-plays">-</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Favorites</div>
                                <div class="info-value" id="detail-favorites">-</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">Distribution Channels</div>
                                <div class="info-value" id="detail-channels">-</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Distribution Links</label>
                            <div class="info-value" id="detail-links">-</div>
                        </div>
                        <button class="security-btn btn-cancel" onclick="hideContentDetail()">Close</button>
                    </div>
                </div>
            </div>

           <!-- Admin List Tab -->
<div class="tab-content" id="admin-list">
    <div class="admin-form">
        <h2 class="form-title"><i class="fas fa-users"></i> Registered Admins</h2>
    





      <!-- ADD THIS SEARCH BAR SECTION -->
<div class="search-section">
    <div class="search-header">
        <h3><i class="fas fa-search"></i> Search Admins</h3>
        <button class="search-toggle" id="search-toggle" onclick="toggleSearchFilters()">
            <i class="fas fa-chevron-down"></i>
        </button>
    </div>
    
    <div class="search-filters" id="search-filters">
        <div class="search-grid">
            <div class="search-group">
                <label class="search-label">Search by Name</label>
                <div class="search-input-wrapper">
                    <i class="fas fa-user"></i>
                    <input type="text" id="search-name" placeholder="Enter full name or part of name...">
                </div>
            </div>
            
            <div class="search-group">
                <label class="search-label">Search by Email</label>
                <div class="search-input-wrapper">
                    <i class="fas fa-envelope"></i>
                    <input type="text" id="search-email" placeholder="Enter email address...">
                </div>
            </div>
            
            <div class="search-group">
                <label class="search-label">Search by Phone</label>
                <div class="search-input-wrapper">
                    <i class="fas fa-phone"></i>
                    <input type="text" id="search-phone" placeholder="Enter phone number...">
                </div>
            </div>
            
            <div class="search-group">
                <label class="search-label">Search by Passkey</label>
                <div class="search-input-wrapper">
                    <i class="fas fa-key"></i>
                    <input type="text" id="search-passkey" placeholder="Enter passkey...">
                </div>
            </div>
        </div>
        
        <div class="search-actions">
            <button class="search-btn btn-primary" id="search-execute" onclick="executeSearch()">
                <i class="fas fa-search"></i> Search
            </button>
            <button class="search-btn btn-secondary" id="search-clear" onclick="clearSearch()">
                <i class="fas fa-eraser"></i> Clear
            </button>
        </div>
        
        <div class="search-results-info" id="search-results-info">
            <!-- Results info will appear here -->
        </div>
    </div>
</div>








<!-- END OF SEARCH BAR SECTION -->
        
        <div class="table-container">
            <table class="admin-table">
                <thead>
                    <tr>
                        <th>Profile</th>
                        <th>Full Name</th>
                        <th>Email</th>
                        <th>Password</th>
                        <th>Phone</th>
                        <th>Date of Birth</th>
                        <th>Registration Date</th>
                        <th>Passkey</th>
                        <th>Security Code 1</th>
                        <th>Security Code 2</th>
                        <th>Security Code 3</th>
                        <th>Favorite Digit</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="admin-body">
                    <!-- Admin list will be populated dynamically -->
                </tbody>
            </table>
        </div>
    </div>
</div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toast-message">Operation completed successfully!</span>
    </div>


    <script>
// ===== GLOBAL VARIABLES =====
let currentStep = 1;
let selectedChars = [];
let currentAdminId = null;

// Predefined admin credentials for demo
const validAdmins = [
    {
        name: "admin name",
        email: "admin email",
        passkey: "passkey",
        securityCodes: ["1111", "2222", "3333"]
    }
];

// ===== SECURITY SYSTEM =====
function nextStep() {
    if (currentStep === 1) {
        const name = document.getElementById('admin-name').value.trim();
        const email = document.getElementById('admin-email').value.trim();
        const passkey = document.getElementById('admin-passkey').value.trim();
        
        if (!name || !email || !passkey) {
            showToast("Please fill all fields in step 1", "error");
            return;
        }
        
        // Check if admin exists
        const admin = validAdmins.find(a => 
            a.name.toLowerCase() === name.toLowerCase() && 
            a.email === email && 
            a.passkey === passkey
        );
        
        if (!admin) {
            showToast("Invalid admin credentials", "error");
            return;
        }
        
        currentStep = 2;
        document.getElementById('step1').classList.remove('active');
        document.getElementById('step2').classList.add('active');
    }
}

function prevStep() {
    if (currentStep === 2) {
        currentStep = 1;
        document.getElementById('step2').classList.remove('active');
        document.getElementById('step1').classList.add('active');
    }
}

function verifySecurity() {
    if (currentStep === 2) {
        const code1 = document.getElementById('security-code1').value.trim();
        const code2 = document.getElementById('security-code2').value.trim();
        const code3 = document.getElementById('security-code3').value.trim();
        
        if (!code1 || !code2 || !code3) {
            showToast("Please enter all security codes", "error");
            return;
        }
        
        // Check security codes
        const admin = validAdmins[0];
        if (code1 === admin.securityCodes[0] && 
            code2 === admin.securityCodes[1] && 
            code3 === admin.securityCodes[2]) {
            
            // Success - show admin dashboard
            securityScreen.style.display = 'none';
            adminDashboard.style.display = 'block';
            showToast("Security verification successful!");
            
            // Load initial data
            loadContentData();
            loadAdminList();
        } else {
            showToast("Invalid security codes", "error");
        }
    }
}

function cancelSecurity() {
    window.location.href = 'index.html';
}

// ===== ADMIN REGISTRATION =====
function initializeCharSelection() {
    document.querySelectorAll('.char-option').forEach(option => {
        option.addEventListener('click', function() {
            const char = this.getAttribute('data-char');
            
            if (selectedChars.includes(char)) {
                // Remove if already selected
                selectedChars = selectedChars.filter(c => c !== char);
                this.classList.remove('selected');
            } else if (selectedChars.length < 3) {
                // Add if less than 3 selected
                selectedChars.push(char);
                this.classList.add('selected');
            } else {
                showToast("You can only select 3 special characters", "warning");
            }
            
            document.getElementById('selected-chars').value = selectedChars.join('');
        });
    });
}

function initializeFileUpload() {
    document.getElementById('profile-upload').addEventListener('click', function() {
        // Create file input element
        const fileInput = document.createElement('input');
        fileInput.type = 'file';
        fileInput.accept = 'image/*';
        fileInput.style.display = 'none';
        
        fileInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                if (file.size > 5 * 1024 * 1024) {
                    showToast("File size must be less than 5MB", "error");
                    return;
                }
                
                if (!file.type.match('image.*')) {
                    showToast("Please select an image file", "error");
                    return;
                }
                
                const fileInfo = document.getElementById('profile-file-info');
                const fileName = document.querySelector('.file-name');
                const fileSize = document.querySelector('.file-size');
                
                fileName.textContent = file.name;
                fileSize.textContent = formatFileSize(file.size);
                fileInfo.style.display = 'flex';
                
                // Create preview
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('info-profile-img').src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        });
        
        document.body.appendChild(fileInput);
        fileInput.click();
        document.body.removeChild(fileInput);
    });
}

function formatFileSize(bytes) {
    if (bytes === 0) return '0 Bytes';
    const k = 1024;
    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
}

function removeFile(type) {
    const fileInfo = document.getElementById(`${type}-file-info`);
    fileInfo.style.display = 'none';
    document.getElementById('info-profile-img').src = "https://via.placeholder.com/50x50/3333ff/ffffff?text=A";
}

// ===== SECURITY CODE GENERATION =====
function generateSecurityCodes(digit, selectedChars) {
    // Define the three number groups
    const numberGroups = [
        [1, 2, 3],  // Group 1: 123
        [4, 5, 6],  // Group 2: 456  
        [7, 8, 9]   // Group 3: 789
    ];
    
    // Shuffle each number group to create variations (123, 132, 213, 231, 312, 321)
    const shuffledGroups = numberGroups.map(group => {
        // Create multiple variations of the group
        const variations = [
            [group[0], group[1], group[2]], // Original: 123, 456, 789
            [group[0], group[2], group[1]], // 132, 465, 798
            [group[1], group[0], group[2]], // 213, 546, 879
            [group[1], group[2], group[0]], // 231, 564, 897
            [group[2], group[0], group[1]], // 312, 645, 978
            [group[2], group[1], group[0]]  // 321, 654, 987
        ];
        
        // Randomly select one variation for each group
        return variations[Math.floor(Math.random() * variations.length)];
    });
    
    // Generate the base codes using the pattern: digit + groupNumber + digit + groupNumber + digit + groupNumber
    const baseCode1 = `${digit}${shuffledGroups[0][0]}${digit}${shuffledGroups[0][1]}${digit}${shuffledGroups[0][2]}`;
    const baseCode2 = `${digit}${shuffledGroups[1][0]}${digit}${shuffledGroups[1][1]}${digit}${shuffledGroups[1][2]}`;
    const baseCode3 = `${digit}${shuffledGroups[2][0]}${digit}${shuffledGroups[2][1]}${digit}${shuffledGroups[2][2]}`;
    
    console.log("Base codes:", baseCode1, baseCode2, baseCode3); // Debug
    
    // Generate random arrangements of special characters
    const charArrangements = generateCharArrangements(selectedChars);
    
    // Create final security codes by combining base codes with special characters
    const securityCode1 = baseCode1 + charArrangements[0];
    const securityCode2 = baseCode2 + charArrangements[1];
    const securityCode3 = baseCode3 + charArrangements[2];
    
    return {
        securityCode1,
        securityCode2,
        securityCode3,
        baseCode1,
        baseCode2,
        baseCode3,
        shuffledGroups
    };
}

function generateCharArrangements(selectedChars) {
    // All possible arrangements of 3 characters
    const arrangements = [
        selectedChars[0] + selectedChars[1] + selectedChars[2], // ABC
        selectedChars[0] + selectedChars[2] + selectedChars[1], // ACB
        selectedChars[1] + selectedChars[0] + selectedChars[2], // BAC
        selectedChars[1] + selectedChars[2] + selectedChars[0], // BCA
        selectedChars[2] + selectedChars[0] + selectedChars[1], // CAB
        selectedChars[2] + selectedChars[1] + selectedChars[0]  // CBA
    ];
    
    // Randomly select 3 unique arrangements
    const selectedArrangements = [];
    const usedIndices = new Set();
    
    while (selectedArrangements.length < 3) {
        const randomIndex = Math.floor(Math.random() * arrangements.length);
        if (!usedIndices.has(randomIndex)) {
            selectedArrangements.push(arrangements[randomIndex]);
            usedIndices.add(randomIndex);
        }
    }
    
    return selectedArrangements;
}

// ===== UPDATED ADMIN ACCOUNT GENERATION =====
function generateAdminAccount() {
    const firstName = document.getElementById('first-name').value.trim();
    const middleName = document.getElementById('middle-name').value.trim();
    const lastName = document.getElementById('last-name').value.trim();
    const phone = document.getElementById('admin-phone').value.trim();
    const dob = document.getElementById('admin-dob').value;
    const digit = document.getElementById('admin-digit').value;
    
    if (!firstName || !lastName || !phone || !dob || !digit || selectedChars.length !== 3) {
        showToast("Please fill all fields and select exactly 3 special characters");
        return;
    }
    
    // Validate phone number format
    const phoneRegex = /^(06|07|\+2556|\+2557)\d{7,8}$/;
    if (!phoneRegex.test(phone)) {
        showToast("Phone number must start with 06, 07, +2556, or +2557");
        return;
    }
    
    // Validate digit
    if (digit < 0 || digit > 9) {
        showToast("Favorite digit must be between 0 and 9");
        return;
    }
    
    // Generate admin details
    const fullName = `${firstName} ${middleName ? middleName + ' ' : ''}${lastName}`.trim();
    
    // Generate email
    const phoneLast4 = phone.slice(-4);
    const email = `${firstName.toLowerCase()}.${lastName.toLowerCase()}${phoneLast4}@gmail.com`;
    
    // Generate security codes using the new formula
    const securityCodes = generateSecurityCodes(digit, selectedChars);
    const securityCode1 = securityCodes.securityCode1;
    const securityCode2 = securityCodes.securityCode2;
    const securityCode3 = securityCodes.securityCode3;
    
    console.log("Generated Security Codes:", securityCode1, securityCode2, securityCode3);
    
    // Generate password (firstName + first 6 digits of securityCode1 + repeated special character)
    const codeNumbers = securityCode1.replace(/\D/g, "").slice(0, 6);
    const repeatedSpecial = selectedChars[0];
    const password = `${firstName}${codeNumbers}${repeatedSpecial.repeat(3)}`;
    
    console.log("Password:", password);
    
    // Generate passkey (ADM-XXX-YYDD format)
    const dobDate = new Date(dob);
    const day = dobDate.getDate().toString().padStart(2, '0');
    let phonePrefix = phone.substring(0, 2);
    if (phone.startsWith('+255')) {
        phonePrefix = phone.substring(4, 6);
    }
    const phoneLast3 = phone.slice(-3);
    const passkey = `ADM-${phoneLast3}-${phonePrefix}${day}`;
    
    // Registration date
    const regDate = new Date().toLocaleDateString('en-US', { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
    });
    
    // Display generated info
    const profileImg = document.getElementById('info-profile-img');
    if (!profileImg.src.includes('placeholder.com')) {
        // Keep the uploaded image
    } else {
        profileImg.src = `https://via.placeholder.com/50x50/3333ff/ffffff?text=${firstName.charAt(0).toUpperCase()}`;
    }
    
    document.getElementById('info-fullname').textContent = fullName;
    document.getElementById('info-email').textContent = email;
    document.getElementById('info-password').textContent = password;
    document.getElementById('info-code1').textContent = securityCode1;
    document.getElementById('info-code2').textContent = securityCode2;
    document.getElementById('info-code3').textContent = securityCode3;
    document.getElementById('info-passkey').textContent = passkey;
    document.getElementById('info-regdate').textContent = regDate;
    
    // Show the formula used for debugging
    console.log("Formula used:");
    console.log("Digit:", digit);
    console.log("Selected Characters:", selectedChars);
    console.log("Base Codes:", securityCodes.baseCode1, securityCodes.baseCode2, securityCodes.baseCode3);
    console.log("Number Groups Used:", securityCodes.shuffledGroups);
    
    document.getElementById('generated-info').classList.add('show');
    
    // Save admin to localStorage
    const newAdmin = {
        id: Date.now(),
        firstName: firstName,
        middleName: middleName,
        lastName: lastName,
        fullName: fullName,
        phone: phone,
        dob: dob,
        digit: parseInt(digit),
        selectedChars: [...selectedChars],
        email: email,
        password: password,
        securityCode1: securityCode1,
        securityCode2: securityCode2,
        securityCode3: securityCode3,
        passkey: passkey,
        regDate: new Date().toISOString(),
        profileImage: document.getElementById('info-profile-img').src
    };
    
    saveAdmin(newAdmin);
    showToast("Admin account generated successfully!");
}

function clearAdminForm() {
    // Clear form fields
    document.getElementById('first-name').value = '';
    document.getElementById('middle-name').value = '';
    document.getElementById('last-name').value = '';
    document.getElementById('admin-phone').value = '';
    document.getElementById('admin-dob').value = '';
    document.getElementById('admin-digit').value = '';
    document.getElementById('selected-chars').value = '';
    
    // Reset selected characters
    selectedChars = [];
    document.querySelectorAll('.char-option').forEach(option => {
        option.classList.remove('selected');
    });
    
    // Hide file info
    const fileInfo = document.getElementById('profile-file-info');
    if (fileInfo) fileInfo.style.display = 'none';
    
    // Hide generated info
    const generatedInfo = document.getElementById('generated-info');
    if (generatedInfo) generatedInfo.classList.remove('show');
    
    // Reset profile image
    document.getElementById('info-profile-img').src = "https://via.placeholder.com/50x50/3333ff/ffffff?text=A";
    
    showToast("Form cleared successfully");
}

function saveAdmin(admin) {
    try {
        let admins = JSON.parse(localStorage.getItem('dfixAdmins')) || [];
        admins.push(admin);
        localStorage.setItem('dfixAdmins', JSON.stringify(admins));
        
        // Refresh admin list
        loadAdminList();
        return true;
    } catch (error) {
        console.error("Error saving admin:", error);
        showToast("Error saving admin data", "error");
        return false;
    }
}











// ===== SEARCH FUNCTIONALITY =====
function initializeSearch() {
    // Search toggle functionality
    const searchToggle = document.getElementById('search-toggle');
    const searchFilters = document.getElementById('search-filters');
    
    if (searchToggle && searchFilters) {
        searchToggle.addEventListener('click', function() {
            searchFilters.classList.toggle('collapsed');
            this.classList.toggle('rotated');
        });
    }
    
    // Search execution
    const searchExecute = document.getElementById('search-execute');
    if (searchExecute) {
        searchExecute.addEventListener('click', executeSearch);
    }
    
    // Search clear
    const searchClear = document.getElementById('search-clear');
    if (searchClear) {
        searchClear.addEventListener('click', clearSearch);
    }
    
    // Enter key support for search inputs
    const searchInputs = document.querySelectorAll('#search-filters input');
    searchInputs.forEach(input => {
        input.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                executeSearch();
            }
        });
    });
}

function executeSearch() {
    try {
        const nameQuery = document.getElementById('search-name').value.trim().toLowerCase();
        const emailQuery = document.getElementById('search-email').value.trim().toLowerCase();
        const phoneQuery = document.getElementById('search-phone').value.trim();
        const passkeyQuery = document.getElementById('search-passkey').value.trim().toLowerCase();
        
        // If all search fields are empty, show all admins
        if (!nameQuery && !emailQuery && !phoneQuery && !passkeyQuery) {
            loadAdminList();
            showSearchResultsInfo('Please enter search criteria', 'warning');
            return;
        }
        
        const admins = JSON.parse(localStorage.getItem('dfixAdmins')) || [];
        
        if (admins.length === 0) {
            showSearchResultsInfo('No admin accounts available to search', 'warning');
            return;
        }
        
        // Filter admins based on search criteria
        const filteredAdmins = admins.filter(admin => {
            let matches = true;
            
            // Name search (searches full name, first name, and last name)
            if (nameQuery) {
                const nameMatch = 
                    (admin.fullName && admin.fullName.toLowerCase().includes(nameQuery)) ||
                    (admin.firstName && admin.firstName.toLowerCase().includes(nameQuery)) ||
                    (admin.lastName && admin.lastName.toLowerCase().includes(nameQuery));
                matches = matches && nameMatch;
            }
            
            // Email search
            if (emailQuery && matches) {
                const emailMatch = admin.email && admin.email.toLowerCase().includes(emailQuery);
                matches = matches && emailMatch;
            }
            
            // Phone search (exact match or partial)
            if (phoneQuery && matches) {
                const phoneMatch = admin.phone && admin.phone.includes(phoneQuery);
                matches = matches && phoneMatch;
            }
            
            // Passkey search
            if (passkeyQuery && matches) {
                const passkeyMatch = admin.passkey && admin.passkey.toLowerCase().includes(passkeyQuery);
                matches = matches && passkeyMatch;
            }
            
            return matches;
        });
        
        // Display filtered results
        displaySearchResults(filteredAdmins, nameQuery, emailQuery, phoneQuery, passkeyQuery);
        
    } catch (error) {
        console.error("Error executing search:", error);
        showToast("Error performing search", "error");
    }
}

function displaySearchResults(admins, nameQuery, emailQuery, phoneQuery, passkeyQuery) {
    const adminBody = document.getElementById('admin-body');
    const resultsInfo = document.getElementById('search-results-info');
    
    adminBody.innerHTML = '';
    
    if (admins.length === 0) {
        adminBody.innerHTML = `
            <tr>
                <td colspan="13" class="no-results">
                    <i class="fas fa-search"></i>
                    <div>No admins found matching your search criteria</div>
                    <div style="font-size: 14px; margin-top: 10px; opacity: 0.7;">
                        Try adjusting your search terms or using fewer filters
                    </div>
                </td>
            </tr>
        `;
        
        resultsInfo.innerHTML = `<span class="results-count">0 results found</span> - No matching admins`;
        resultsInfo.classList.add('show');
        return;
    }
    
    // Display filtered admins with highlighting
    admins.forEach(admin => {
        const firstName = admin.firstName || 'Unknown';
        const profileText = firstName.charAt(0).toUpperCase() || 'A';
        
        const row = document.createElement('tr');
        row.innerHTML = `
            <td><img src="${admin.profileImage || `https://via.placeholder.com/40x40/3333ff/ffffff?text=${profileText}`}" width="40" height="40" style="border-radius: 50%;"></td>
            <td>${highlightText(admin.fullName || 'N/A', nameQuery)}</td>
            <td>${highlightText(admin.email || 'N/A', emailQuery)}</td>
            <td>${admin.password || 'N/A'}</td>
            <td>${highlightText(admin.phone || 'N/A', phoneQuery)}</td>
            <td>${admin.dob || 'N/A'}</td>
            <td>${admin.regDate ? new Date(admin.regDate).toLocaleDateString() : 'N/A'}</td>
            <td>${highlightText(admin.passkey || 'N/A', passkeyQuery)}</td>
            <td>${admin.securityCode1 || 'N/A'}</td>
            <td>${admin.securityCode2 || 'N/A'}</td>
            <td>${admin.securityCode3 || 'N/A'}</td>
            <td>${admin.digit || '0'}</td>
            <td>
                <button class="copy-btn" onclick="viewAdminDetails(${admin.id})">View</button>
                <button class="copy-btn btn-delete" onclick="deleteAdmin(${admin.id})">Delete</button>
            </td>
        `;
        adminBody.appendChild(row);
    });
    
    // Show results info
    const queryParts = [];
    if (nameQuery) queryParts.push(`name: "${nameQuery}"`);
    if (emailQuery) queryParts.push(`email: "${emailQuery}"`);
    if (phoneQuery) queryParts.push(`phone: "${phoneQuery}"`);
    if (passkeyQuery) queryParts.push(`passkey: "${passkeyQuery}"`);
    
    resultsInfo.innerHTML = `
        <span class="results-count">${admins.length} result${admins.length !== 1 ? 's' : ''} found</span>
        ${queryParts.length > 0 ? `- Searching by ${queryParts.join(', ')}` : ''}
    `;
    resultsInfo.classList.add('show');
    
    showToast(`Found ${admins.length} matching admin${admins.length !== 1 ? 's' : ''}`, "success");
}

function highlightText(text, query) {
    if (!query || !text || text === 'N/A') return text;
    
    const lowerText = text.toLowerCase();
    const lowerQuery = query.toLowerCase();
    const index = lowerText.indexOf(lowerQuery);
    
    if (index === -1) return text;
    
    const before = text.substring(0, index);
    const match = text.substring(index, index + query.length);
    const after = text.substring(index + query.length);
    
    return `${before}<span class="highlight">${match}</span>${after}`;
}

function clearSearch() {
    // Clear search inputs
    document.getElementById('search-name').value = '';
    document.getElementById('search-email').value = '';
    document.getElementById('search-phone').value = '';
    document.getElementById('search-passkey').value = '';
    
    // Hide results info
    const resultsInfo = document.getElementById('search-results-info');
    resultsInfo.classList.remove('show');
    
    // Reload full admin list
    loadAdminList();
    
    showToast("Search cleared", "success");
}

function showSearchResultsInfo(message, type = "info") {
    const resultsInfo = document.getElementById('search-results-info');
    resultsInfo.innerHTML = message;
    resultsInfo.classList.add('show');
    
    // Set appropriate color based on type
    switch (type) {
        case "warning":
            resultsInfo.style.borderLeftColor = "var(--warning)";
            break;
        case "error":
            resultsInfo.style.borderLeftColor = "var(--danger)";
            break;
        default:
            resultsInfo.style.borderLeftColor = "var(--accent)";
    }
}

// ===== ADMIN LIST MANAGEMENT =====
function loadAdminList(filteredAdmins = null) {
    try {
        const admins = filteredAdmins || JSON.parse(localStorage.getItem('dfixAdmins')) || [];
        const adminBody = document.getElementById('admin-body');
        const resultsInfo = document.getElementById('search-results-info');
        
        adminBody.innerHTML = '';
        
        // Hide search results info when showing all admins
        if (resultsInfo && !filteredAdmins) {
            resultsInfo.classList.remove('show');
        }
        
        if (admins.length === 0) {
            adminBody.innerHTML = `
                <tr>
                    <td colspan="13" style="text-align: center; padding: 20px;">
                        No admin accounts registered yet
                    </td>
                </tr>
            `;
            return;
        }
        
        admins.forEach(admin => {
            const firstName = admin.firstName || 'Unknown';
            const profileText = firstName.charAt(0).toUpperCase() || 'A';
            
            const row = document.createElement('tr');
            row.innerHTML = `
                <td><img src="${admin.profileImage || `https://via.placeholder.com/40x40/3333ff/ffffff?text=${profileText}`}" width="40" height="40" style="border-radius: 50%;"></td>
                <td>${admin.fullName || 'N/A'}</td>
                <td>${admin.email || 'N/A'}</td>
                <td>${admin.password || 'N/A'}</td>
                <td>${admin.phone || 'N/A'}</td>
                <td>${admin.dob || 'N/A'}</td>
                <td>${admin.regDate ? new Date(admin.regDate).toLocaleDateString() : 'N/A'}</td>
                <td>${admin.passkey || 'N/A'}</td>
                <td>${admin.securityCode1 || 'N/A'}</td>
                <td>${admin.securityCode2 || 'N/A'}</td>
                <td>${admin.securityCode3 || 'N/A'}</td>
                <td>${admin.digit || 'N/A'}</td>
                <td>
                    <button class="copy-btn" onclick="viewAdminDetails(${admin.id})">View</button>
                    <button class="copy-btn btn-delete" onclick="deleteAdmin(${admin.id})">Delete</button>
                </td>
            `;
            adminBody.appendChild(row);
        });
    } catch (error) {
        console.error("Error loading admin list:", error);
        showToast("Error loading admin list", "error");
    }
}

function viewAdminDetails(id) {
    try {
        const admins = JSON.parse(localStorage.getItem('dfixAdmins')) || [];
        const admin = admins.find(a => a.id === id);
        
        if (admin) {
            const details = `
Admin Details:

Name: ${admin.fullName || 'N/A'}
Email: ${admin.email || 'N/A'}
Phone: ${admin.phone || 'N/A'}
Date of Birth: ${admin.dob || 'N/A'}
Favorite Digit: ${admin.digit || 'N/A'}
Passkey: ${admin.passkey || 'N/A'}

Security Codes:
1. ${admin.securityCode1 || 'N/A'}
2. ${admin.securityCode2 || 'N/A'}
3. ${admin.securityCode3 || 'N/A'}

Selected Characters: ${admin.selectedChars ? admin.selectedChars.join(', ') : 'N/A'}
Registration Date: ${admin.regDate ? new Date(admin.regDate).toLocaleDateString() : 'N/A'}
            `;
            alert(details);
        } else {
            showToast("Admin not found", "error");
        }
    } catch (error) {
        console.error("Error viewing admin details:", error);
        showToast("Error loading admin details", "error");
    }
}

function deleteAdmin(id) {
    if (confirm("Are you sure you want to delete this admin account? This action cannot be undone.")) {
        try {
            let admins = JSON.parse(localStorage.getItem('dfixAdmins')) || [];
            const adminIndex = admins.findIndex(a => a.id === id);
            
            if (adminIndex !== -1) {
                const adminName = admins[adminIndex].fullName || 'Unknown Admin';
                admins.splice(adminIndex, 1);
                localStorage.setItem('dfixAdmins', JSON.stringify(admins));
                
                // Check if we're in search mode or showing all admins
                const hasActiveSearch = document.getElementById('search-name').value || 
                                      document.getElementById('search-email').value ||
                                      document.getElementById('search-phone').value ||
                                      document.getElementById('search-passkey').value;
                
                if (hasActiveSearch) {
                    // Re-run search to update results
                    executeSearch();
                } else {
                    // Reload full list
                    loadAdminList();
                }
                
                showToast(`Admin "${adminName}" deleted successfully`);
            } else {
                showToast("Admin not found", "error");
            }
        } catch (error) {
            console.error("Error deleting admin:", error);
            showToast("Error deleting admin", "error");
        }
    }
}

// Update the initialization function to include search
function initializeApp() {
    console.log("DFIX DGXcore Admin System Initializing...");
    
    // Initialize components
    initializeCharSelection();
    initializeFileUpload();
    initializeTabs();
    initializeSearch();
    
    // Set up global references
    window.securityScreen = document.getElementById('security-screen');
    window.adminDashboard = document.getElementById('admin-dashboard');
    
    console.log("DFIX DGXcore Admin System Ready");
}

// ===== CONTENT MONITORING =====
function loadContentData() {
    try {
        // Sample content data
        const contentData = [
            {
                id: 1,
                artist: "DFIX DGXcore",
                title: "Neon Dreams",
                type: "music",
                uploadDate: "2023-09-15",
                plays: 12500,
                favorites: 3400,
                distribution: "Spotify, Apple Music, YouTube",
                links: "https://spotify.com/neondreams, https://music.apple.com/neondreams"
            },
            {
                id: 2,
                artist: "DFIX DGXcore",
                title: "Digital Heartbeat",
                type: "music",
                uploadDate: "2023-08-22",
                plays: 8900,
                favorites: 2100,
                distribution: "Spotify, SoundCloud",
                links: "https://spotify.com/digitalheartbeat, https://soundcloud.com/digitalheartbeat"
            },
            {
                id: 3,
                artist: "Binash",
                title: "Midnight Vibes",
                type: "music",
                uploadDate: "2023-09-10",
                plays: 5600,
                favorites: 1200,
                distribution: "YouTube, Deezer",
                links: "https://youtube.com/midnightvibes, https://deezer.com/midnightvibes"
            },
            {
                id: 4,
                artist: "Diodeo",
                title: "Electric Pulse Video",
                type: "video",
                uploadDate: "2023-09-05",
                plays: 3200,
                favorites: 800,
                distribution: "YouTube, Vimeo",
                links: "https://youtube.com/electricpulse, https://vimeo.com/electricpulse"
            }
        ];
        
        // Populate content table
        const contentBody = document.getElementById('content-body');
        if (!contentBody) {
            console.error("Content body element not found!");
            return;
        }
        
        contentBody.innerHTML = '';
        
        contentData.forEach(item => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${item.artist}</td>
                <td>${item.title}</td>
                <td>${item.type}</td>
                <td>${item.uploadDate}</td>
                <td>${item.plays.toLocaleString()}</td>
                <td>${item.favorites.toLocaleString()}</td>
                <td>${item.distribution}</td>
                <td>${item.links}</td>
                <td>
                    <button class="copy-btn" onclick="viewContentDetail(${item.id})">View Details</button>
                </td>
            `;
            contentBody.appendChild(row);
        });
        
        // Populate artist filter
        const artistFilter = document.getElementById('artist-filter');
        if (artistFilter) {
            // Clear existing options except the first one
            artistFilter.innerHTML = '<option value="all">All Artists</option>';
            
            const artists = [...new Set(contentData.map(item => item.artist))];
            
            artists.forEach(artist => {
                const option = document.createElement('option');
                option.value = artist;
                option.textContent = artist;
                artistFilter.appendChild(option);
            });
        }
        
        // Initialize filters
        initializeContentFilters();
        
    } catch (error) {
        console.error("Error loading content data:", error);
        showToast("Error loading content data", "error");
    }
}

function initializeContentFilters() {
    const contentFilter = document.getElementById('content-filter');
    const artistFilter = document.getElementById('artist-filter');
    const contentSearch = document.getElementById('content-search');
    
    if (contentFilter) {
        contentFilter.addEventListener('change', filterContent);
    }
    if (artistFilter) {
        artistFilter.addEventListener('change', filterContent);
    }
    if (contentSearch) {
        contentSearch.addEventListener('input', filterContent);
    }
}

function filterContent() {
    try {
        const typeFilter = document.getElementById('content-filter')?.value || 'all';
        const artistFilter = document.getElementById('artist-filter')?.value || 'all';
        const searchTerm = (document.getElementById('content-search')?.value || '').toLowerCase();
        
        const rows = document.querySelectorAll('#content-body tr');
        
        rows.forEach(row => {
            const type = row.cells[2]?.textContent || '';
            const artist = row.cells[0]?.textContent || '';
            const title = row.cells[1]?.textContent.toLowerCase() || '';
            
            const typeMatch = typeFilter === 'all' || type === typeFilter;
            const artistMatch = artistFilter === 'all' || artist === artistFilter;
            const searchMatch = !searchTerm || 
                title.includes(searchTerm) || 
                artist.toLowerCase().includes(searchTerm);
            
            if (typeMatch && artistMatch && searchMatch) {
                row.style.display = '';
            } else {
                row.style.display = 'none';
            }
        });
    } catch (error) {
        console.error("Error filtering content:", error);
    }
}

function viewContentDetail(id) {
    try {
        // Sample content data
        const contentData = [
            {
                id: 1,
                artist: "DFIX DGXcore",
                title: "Neon Dreams",
                type: "music",
                uploadDate: "2023-09-15",
                plays: 12500,
                favorites: 3400,
                distribution: "Spotify, Apple Music, YouTube",
                links: "https://spotify.com/neondreams, https://music.apple.com/neondreams"
            },
            {
                id: 2,
                artist: "DFIX DGXcore",
                title: "Digital Heartbeat",
                type: "music",
                uploadDate: "2023-08-22",
                plays: 8900,
                favorites: 2100,
                distribution: "Spotify, SoundCloud",
                links: "https://spotify.com/digitalheartbeat, https://soundcloud.com/digitalheartbeat"
            },
            {
                id: 3,
                artist: "Binash",
                title: "Midnight Vibes",
                type: "music",
                uploadDate: "2023-09-10",
                plays: 5600,
                favorites: 1200,
                distribution: "YouTube, Deezer",
                links: "https://youtube.com/midnightvibes, https://deezer.com/midnightvibes"
            },
            {
                id: 4,
                artist: "Diodeo",
                title: "Electric Pulse Video",
                type: "video",
                uploadDate: "2023-09-05",
                plays: 3200,
                favorites: 800,
                distribution: "YouTube, Vimeo",
                links: "https://youtube.com/electricpulse, https://vimeo.com/electricpulse"
            }
        ];
        
        const content = contentData.find(item => item.id === id);
        const contentDetail = document.getElementById('content-detail');
        
        if (content && contentDetail) {
            document.getElementById('detail-title').textContent = content.title;
            document.getElementById('detail-artist').textContent = content.artist;
            document.getElementById('detail-date').textContent = content.uploadDate;
            document.getElementById('detail-plays').textContent = content.plays.toLocaleString();
            document.getElementById('detail-favorites').textContent = content.favorites.toLocaleString();
            document.getElementById('detail-channels').textContent = content.distribution;
            document.getElementById('detail-links').textContent = content.links;
            
            contentDetail.classList.add('show');
        } else {
            showToast("Content details not found", "error");
        }
    } catch (error) {
        console.error("Error viewing content detail:", error);
        showToast("Error loading content details", "error");
    }
}

function hideContentDetail() {
    const contentDetail = document.getElementById('content-detail');
    if (contentDetail) {
        contentDetail.classList.remove('show');
    }
}

// ===== UTILITY FUNCTIONS =====
function goBack() {
    window.location.href = 'index.html';
}

function showToast(message, type = "success") {
    try {
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toast-message');
        const toastIcon = toast.querySelector('i');
        
        toastMessage.textContent = message;
        
        // Set appropriate icon and color based on type
        switch (type) {
            case "error":
                toast.style.background = "var(--danger)";
                toastIcon.className = "fas fa-exclamation-circle";
                break;
            case "warning":
                toast.style.background = "var(--warning)";
                toastIcon.className = "fas fa-exclamation-triangle";
                break;
            default:
                toast.style.background = "linear-gradient(90deg, var(--primary), var(--secondary))";
                toastIcon.className = "fas fa-check-circle";
        }
        
        toast.classList.add('show');
        
        setTimeout(() => {
            toast.classList.remove('show');
        }, 3000);
    } catch (error) {
        console.error("Error showing toast:", error);
    }
}

function copyToClipboard(elementId) {
    try {
        const text = document.getElementById(elementId).textContent;
        navigator.clipboard.writeText(text).then(() => {
            showToast("Copied to clipboard!");
        }).catch(err => {
            console.error("Failed to copy text: ", err);
            showToast("Failed to copy to clipboard", "error");
        });
    } catch (error) {
        console.error("Error copying to clipboard:", error);
        showToast("Error copying to clipboard", "error");
    }
}

// ===== TAB MANAGEMENT =====
function initializeTabs() {
    document.querySelectorAll('.admin-tab').forEach(tab => {
        tab.addEventListener('click', function() {
            // Remove active class from all tabs and contents
            document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            // Add active class to clicked tab and corresponding content
            this.classList.add('active');
            const targetTab = this.dataset.tab;
            document.getElementById(targetTab).classList.add('active');
            
            // Load appropriate data based on tab
            switch (targetTab) {
                case 'admin-list':
                    loadAdminList();
                    break;
                case 'content-monitor':
                    loadContentData();
                    break;
                case 'admin-registration':
                    // Reset form when switching to registration tab
                    clearAdminForm();
                    break;
            }
        });
    });
}

// ===== INITIALIZATION =====
function initializeApp() {
    console.log("DFIX DGXcore Admin System Initializing...");
    
    // Initialize components
    initializeCharSelection();
    initializeFileUpload();
    initializeTabs();
    
    // Set up global references
    window.securityScreen = document.getElementById('security-screen');
    window.adminDashboard = document.getElementById('admin-dashboard');
    
    // Add delete button styling
    const style = document.createElement('style');
    style.textContent = `
        .btn-delete {
            background: var(--danger) !important;
            margin-left: 5px;
        }
        .btn-delete:hover {
            background: #ff1a4d !important;
        }
    `;
    document.head.appendChild(style);
    
    console.log("DFIX DGXcore Admin System Ready");
}

// Initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', initializeApp);
</script>
</body>
</html>